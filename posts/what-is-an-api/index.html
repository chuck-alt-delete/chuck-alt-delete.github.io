<!DOCTYPE html>
<html lang="en" dir="auto">

<head><link rel="stylesheet" href="/css/admonition.css">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>What is an API? | Chuck Alt Delete</title>
<meta name="keywords" content="">
<meta name="description" content="Tip I originally wrote this for https://confluent.io/learn/api, but I wanted to host a version of it on my own blog. Introduction API stands for Application Programming Interface, which allows applications to communicate with one another. In the following image, imagine an app on the left is trying to communicate with the app on the right:
The key idea is the app on the left doesn’t need to know the details about how the other application works; it only needs to know about how to use the API.">
<meta name="author" content="">
<link rel="canonical" href="https://chuck-alt-delete.github.io/posts/what-is-an-api/">
<meta name="google-site-verification" content="G-S20RBCMJWE">
<link crossorigin="anonymous" href="/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css" integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://chuck-alt-delete.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://chuck-alt-delete.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://chuck-alt-delete.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://chuck-alt-delete.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://chuck-alt-delete.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-S20RBCMJWE"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-S20RBCMJWE', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="What is an API?" />
<meta property="og:description" content="Tip I originally wrote this for https://confluent.io/learn/api, but I wanted to host a version of it on my own blog. Introduction API stands for Application Programming Interface, which allows applications to communicate with one another. In the following image, imagine an app on the left is trying to communicate with the app on the right:
The key idea is the app on the left doesn’t need to know the details about how the other application works; it only needs to know about how to use the API." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chuck-alt-delete.github.io/posts/what-is-an-api/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-11T14:32:21-08:00" />
<meta property="article:modified_time" content="2022-12-11T14:32:21-08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="What is an API?"/>
<meta name="twitter:description" content="Tip I originally wrote this for https://confluent.io/learn/api, but I wanted to host a version of it on my own blog. Introduction API stands for Application Programming Interface, which allows applications to communicate with one another. In the following image, imagine an app on the left is trying to communicate with the app on the right:
The key idea is the app on the left doesn’t need to know the details about how the other application works; it only needs to know about how to use the API."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://chuck-alt-delete.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "What is an API?",
      "item": "https://chuck-alt-delete.github.io/posts/what-is-an-api/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "What is an API?",
  "name": "What is an API?",
  "description": "Tip I originally wrote this for https://confluent.io/learn/api, but I wanted to host a version of it on my own blog. Introduction API stands for Application Programming Interface, which allows applications to communicate with one another. In the following image, imagine an app on the left is trying to communicate with the app on the right:\nThe key idea is the app on the left doesn’t need to know the details about how the other application works; it only needs to know about how to use the API.",
  "keywords": [
    
  ],
  "articleBody": " Tip I originally wrote this for https://confluent.io/learn/api, but I wanted to host a version of it on my own blog. Introduction API stands for Application Programming Interface, which allows applications to communicate with one another. In the following image, imagine an app on the left is trying to communicate with the app on the right:\nThe key idea is the app on the left doesn’t need to know the details about how the other application works; it only needs to know about how to use the API. This is the concept of abstraction, which makes it possible for new programs to build on top of the hard work encoded into other programs.\nThere are many kinds of APIs and a mountain of technical definitions. This post will discuss only a few modern APIs in plain language with practical examples and some hands-on components.\nMetaphor: Video Games Video games make a nice metaphor for the power of abstraction that an interface provides.\nThe video game player presses buttons, and somehow the video game console knows how to take those buttons and turn them into actions in the game. The player only needs to know the buttons to press in order to have fun with the game; they do not need to know how the machine takes those inputs and uses them to render actions on the screen.\nREST API The REST API is the most popular API architecture in modern web applications. REST stands for Representational State Transfer. The underlying theory is nuanced, but in practice a REST API basically means there is a client who makes certain kinds of requests to alter resources on a server. Each request represents the state the client wants the resource to have and attempts to transfer that wish to the server. The server responds on its own without having to remember anything about the client (this is known as stateless requests).\nThe most common place you will see REST APIs at play is in your browser. You click a button, and the browser will send a request to a server to retrieve a resource and display that resource on your screen.\nREST APIs are sometimes described as”RESTful”.\nExample: cURL a Web API It’s difficult to conceptualize a REST API without a concrete example. Suppose there is a RESTful book API service hosted at https://api.fakebooksite.com. Users can create, read, update, and delete books using the API.\nThe cURL command is an application that can create HTTP requests and is commonly used to interact with REST APIs from the command line. Here is an example of a request one might submit to the books REST API server with the cURL application:\ncurl --request GET \\ \"https://api.fakebooksite.com/v1/authors?author=chuck\u0026sort=title:desc\" Here, the curl command uses the “GET” HTTP method, so this command should retrieve a resource from the server rather than creating or updating a resource on the server. Let’s break down what the different parts of the URL (“uniform resource locator”) are doing in this API.\nurl part purpose https:// This is the part of the URL that signals what protocol will be used. In this case, we use the secure HTTP protocol. api.fakebooksite.com This part of the URL is called the domain. This is what humans use to find servers on the internet (as opposed to IP addresses). /v1/authors/ This part of the URL is the REST API endpoint. It points to resources on the server. It is often prefixed by an API version so that the API can evolve over time without upsetting those who prefer to use older versions. This endpoint points to the “authors” resource. ?author=chuck\u0026sort=title:desc This part of the URL is called the query string which starts with a “?” and encodes query parameters, which are key-value pairs defined with an “=” and separated with “\u0026”. In this case, we specify the name of the author and ask for the response to be sorted by title name in descending (reverse) alphabetical order. The REST API server application would be written in a way to respond to this kind of request and serve a response. In this case, the books API might retrieve information about books written by “chuck” from a database, perform a sort operation, and send a response to the cURL client in a JSON format.\nTip APIs often respond with data encoded in JSON format. The jq command is a handy tool for parsing json responses. It is useful to pipe the results of a curl command into jq to see a pretty output, like this (-X is a shortcut for --request):\ncurl -X GET https://my-cool-site.com/v1/cool-quotes | jq { \"quotes\": [{ \"author\": \"Bill and Ted\", \"quote\": \"Be excellent to each other\" }, { \"author\": \"George Box\", \"quote\": \"All models are wrong. Some are useful.\" } ] } JSON stands for JavaScript Object Notation. Despite its name, it is simply a standard file format that any language can use to send and receive data over the internet. The next example will send JSON data to a REST API endpoint.\nIt’s great to receive data from a REST API endpoint, but often we also want to send a “payload” of data to a REST API. Here is an example that creates/updates the book “Chuck’s Cool Book”:\ncurl \\ --request PUT \\ --header “Content-Type: application/json” \\ --user chuck:chuck-password \\ --data ‘{ “author”: “chuck”, “title”:”Chuck’s Cool Book”, “text”: “When I was a boy, I ate 3 dozen eggs each morning…” }’ \\ \"https://api.fakebooksite.com/v1/books\" There are a couple of new things here to notice:\npart description --request PUT We are using a different HTTP method. “PUT” usually means we want to provide data the server can use to create a resource or replace a resource if it already exists. --header “Content-Type: application/json” Headers are key-value pairs that give the server or client additional information about the request. There are many standard headers, like “Content-Type”. In this case, the client is telling the server that it is going to send a JSON data payload. --user chuck:chuck-password cURL’s –user option creates an “Authorization” header that includes username and password so the server can authenticate the client and decide if it is authorized to have its request fulfilled. In this case, it’s probably a good idea to require users to sign in before they are allowed to post books, otherwise anyone could stuff the database full of whatever books they want. It’s also important that the protocol for this API is HTTPS rather than just HTTP. HTTPS means the connection between the client and server is encrypted, so no one can eavesdrop on the connection and steal the user’s password. -data ‘{...}’ We use this option to compose our JSON payload to send to the server. In this case, we define author, title, and book text in JSON format to send to the server. In summary, the above cURL command will send an HTTP PUT request to the server at the /v1/books endpoint with a JSON payload. When the server receives the PUT request, it would authenticate the user, check whether the user is authorized to create that resource, perhaps update a database record for that book, and then return a response to the client (e.g. status code 200 to report success).\nNote The server might behave very differently depending on which HTTP method is used. In this case, a GET request to https://api.fakebooksite.com/v1/books?author=chuck\u0026title=Chuck%27s+Cool+Book might not require authentication at all and give a response that includes the contents of “Chuck’s Cool Book” in JSON format. GraphQL API GraphQL is an API query language that provides an alternative to REST. GraphQL is great because it gives clients a more flexible way to query an API for exactly what they need and provides developers an easier way to evolve their APIs while maintaining backward compatibility.\nGraphQL specifies three execution operations:\nQuery (retrieve data from the server) Mutation (change data on the server) Subscription (subscribe to a stream of data events from the server) GraphQL Example: Querying Countries Go to https://lucasconstantino.github.io/graphiql-online/ to play hands-on with a graphQL API.\nHere is an example query that you can input into the GraphQL playground:\nquery { countries(filter: { code: { regex: \".*A.*\" } }) { currency code name continent { name } } languages(filter: { code: { regex: \".*r\" } }) { native name code } } This example illustrates how GraphQL gives the client the power to decide what data they want the server to return. With a REST API, making a GET request to a /countries endpoint would return a lot of information the client doesn’t necessarily need, and it would be up to the client to parse through the response. In addition, GraphQL empowers the client to choose data they want from a variety of resources in a single request. In this example, we also see that the client has requested information about languages. With a RESTful architecture, the client would have to make two requests, one to /countries and another to /languages.\nHere are a few things to notice about the query:\nThe query is defined with the “query” keyword within curly braces {} A filter can be applied so that only a subset of data is returned to the client E.g. for (filter:{code:{regex:\".*A.*\"}}), we select only the countries whose country code contains an “A” using regular expressions. The GraphQL web editor, called GraphiQL, is sending an HTTP request to a real GraphQL endpoint. Here’s what an equivalent cURL command looks like (note the escape backslashes for double quotes and the lack of newlines in the query value):\ncurl -s -X POST -H \"Content-Type: application/json\" \\ --data '{\"query\":\"{ countries(filter: {code: {regex: \\\".*A.*\\\"}}) { currency code name continent { name } } languages(filter: {code: {regex: \\\".*r\\\"}}) { native name code }}\"}' \\ https://countries.trevorblades.com | jq Next, explore the API on your own. It’s especially helpful to use Ctrl+Space to take advantage of auto-complete. Also don’t forget to explore the docs panel on the upper right. These docs are automatically generated from GraphQL’s type system (yay schemas and auto generated documentation!).\nRPC API Another popular alternative to REST API architecture is RPC, which stands for Remote Procedure Call. With an RPC API, the client sends a request to a server that asks the server to execute a “procedure” (i.e. “function”, or “method”).\nRPC is different from a REST because the endpoint in a REST API is a resource like /v1/books/, whereas the endpoint in an RPC API is an action like /v1/book.update. In other words, REST APIs are centered around nouns whereas RPC APIs are centered around verbs.\nRPC APIs are popular for synchronous communication between microservices. The most popular framework for developing RPC APIs is gRPC.\nRPC API Example: Fictional Store API This example by Arnaud Lauret is useful to illustrate the difference between REST and RPC APIs:\nOperation RPC (operation) REST (resource) Signup POST /signup POST /persons Resign POST /resign DELETE /persons/1234 Read person GET /readPerson?personid=1234 GET /persons/1234 Read person’s items list GET /readUsersItemsList?userid=1234 GET /persons/1234/items Add item to person’s list POST /addItemToUsersItemsList POST /persons/1234/items Update item POST /modifyItem PUT /items/456 Delete item POST /removeItem?itemId=456 DELETE /items/456 Source: https://apihandyman.io/do-you-really-know-why-you-prefer-rest-over-rpc/#examples\nNotice RPC APIs only use POST and GET HTTP methods, choosing to let the endpoint describe what kind of operation is taking place. Compare that to REST, where DELETE, GET, POST, and PUT methods to the same resource endpoint will result in different behaviors.\nRPC API Example: Slack API Slack is a popular enterprise collaboration app. Slack offers an RPC API to interact with its resources. Here is an example for setting a user’s profile data:\n# Set user profile data curl -X POST \\ -H “Content-Type: application/json” -H “Authorization: Bearer my-super-secret-token” \\ --data ‘{ \"profile\": { \"status_text\": \"riding a train\", \"status_emoji\": \":mountain_railway:\", \"status_expiration\": 1532627506, \"first_name\": \"John\", \"last_name\": \"Smith\", \"email\": \"john@smith.com\", \"fields\": { \"Xf06054BBB\": { \"value\": \"Barista\", \"alt\": \"I make the coffee \u0026 the tea!\" } } } }’ https://slack.com/api/users.profile.set?user=W1234567890 | jq The JSON data payload is taken straight from the example in Slack’s documentation. Notice the endpoint /api/users.profile.set is an action rather than a resource. Here just a few other action-oriented RPC endpoints related to users:\nusers.profile.get users.deletePhoto users.setPhoto users.setActive Slack API documentation pages for their endpoints (called “methods”, which makes sense for RPC):\nhttps://api.slack.com/methods Native Library API All the API examples so far have been APIs over the HTTP protocol (REST, GraphQL, RPC), but another common way to use APIs is directly in the code of your own application through libraries.\nA library is a collection of objects and functions that you can import into your own application to use. A library is typically tailored to solve a specific problem. Instead of solving that problem yourself, you take advantage of the library’s capabilities by using its API. This makes more sense as you dig into examples.\nLibrary API Example: Python’s JSON Library Here is a simple Python program that uses the API provided by the json library to serialize a Python dictionary into a json file.\nimport json my_dictionary = { \"my-key\" : [1,2,3] } with open(\"my-file.json\", \"w\") as f: json.dump(my_dictionary, f) Here are a few things to notice:\nimport json\nThis is where we import the library. Every language provides ways to import libraries. json.dump(my_dictionary, f)\nWe can research the library’s official API documentation to find the functions and objects we need for our program. In this case, we find that the dump method does what we want — it takes a Python object and serializes it into JSON file format. The API specifies that dump has two required positional arguments — first, the object to be serialized, and second, a file writer object to write the JSON data to a file. The important point is that we can use the dump function in our program without knowing at all how it is implemented. Library API Example: Apache Kafka Producer API Apache Kafka provides APIs to read from, process, and write data to Kafka servers (called brokers). There are Kafka client libraries available in many programming languages. We’ll use Java to contrast with the previous Python example.\n… import org.apache.kafka.clients.producer.*; … public class ProducerExample { public static void main(final String[] args) throws IOException { … final Properties props = new Properties(); InputStream propsFile = new FileInputStream(\"src/main/resources/producer.properties\"); props.load(propsFile); KafkaProducer producer = new KafkaProducer\u003c\u003e(props); String t = \"my_topic\" String k = \"mykey\"; String v = \"myvalue\"; ProducerRecord record = new ProducerRecord(t, k, v); producer.send(record); } The pattern is the same as the previous example:\nimport the library research the API documentation to learn what objects and functions are available and how to use them Profit In this case, we\ncreate a KafkaProducer object called “producer” configured with a properties file Define a topic, key, and value Create a ProducerRecord object called “record” that holds the record key, record value, and the topic where we want to send the record Best API Tools Here are some of the most popular tools for developing and using APIs:\nAwesome Docs https://developer.mozilla.org/en-US/docs/Web/HTTP – Excellent reference for all things HTTP, like headers, methods, status codes, etc. https://graphql.org/learn/ https://grpc.io/docs/ Search hubs for APIs others have made https://app.swaggerhub.com/search by SmartBear https://www.postman.com/explore by Postman Tools to interact with APIs https://swagger.io – Interactive online API editor demo that models a pet store REST API with Open API: https://editor.swagger.io/ https://postman.com https://insomnia.rest/ – API development tool by Kong, Inc. https://httpie.io/ – httpie is a really great, modern alternative to cURL https://httpie.io/docs/cli/examples – examples that you can run interactively on https://httpie.io/cli/run Popular frameworks for developing web APIs: Python FastAPI https://fastapi.tiangolo.com/ Flask https://flask.palletsprojects.com/en/2.1.x/ Django https://www.djangoproject.com/ Java SpringBoot https://spring.io/projects/spring-boot Really helpful tool to initialize new projects: https://start.spring.io/ Quarkus https://quarkus.io/ Go Gin https://gin-gonic.com/ Gorilla http://www.gorillatoolkit.org/ GraphQL Code Generator https://www.graphql-code-generator.com/ – Define your schema and generate frontend client code and backend server code OpenAPI specification https://spec.openapis.org/oas/v3.1.0 – Provides a language-agnostic specification that allows you to declare an API in a JSON or YAML document file (usually called openapi.yml, swagger.yaml, or similar). Use Swagger Codegen or OpenAPI Generator to take the OpenAPI document file and generate REST API server and client code, as well as documentation, in the language or framework of your choice. AsyncAPI specification https://www.asyncapi.com/ – In the same family as OpenAPI, but focused on asynchronous, event-driven APIs rather than synchronous request/response APIs. Like OpenAPI, you create an API in a YAML document file and use tools to generate code and documentation ",
  "wordCount" : "2718",
  "inLanguage": "en",
  "datePublished": "2022-12-11T14:32:21-08:00",
  "dateModified": "2022-12-11T14:32:21-08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://chuck-alt-delete.github.io/posts/what-is-an-api/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Chuck Alt Delete",
    "logo": {
      "@type": "ImageObject",
      "url": "https://chuck-alt-delete.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://chuck-alt-delete.github.io/" accesskey="h" title="Chuck Alt Delete (Alt + H)">Chuck Alt Delete</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://chuck-alt-delete.github.io/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://chuck-alt-delete.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://chuck-alt-delete.github.io/posts/">Posts</a></div>
    <h1 class="post-title">
      What is an API?
    </h1>
    <div class="post-meta"><span title='2022-12-11 14:32:21 -0800 PST'>December 11, 2022</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#introduction" aria-label="Introduction">Introduction</a></li>
                <li>
                    <a href="#metaphor-video-games" aria-label="Metaphor: Video Games">Metaphor: Video Games</a></li>
                <li>
                    <a href="#rest-api" aria-label="REST API">REST API</a><ul>
                        
                <li>
                    <a href="#example-curl-a-web-api" aria-label="Example: cURL a Web API">Example: cURL a Web API</a></li></ul>
                </li>
                <li>
                    <a href="#graphql-api" aria-label="GraphQL API">GraphQL API</a><ul>
                        
                <li>
                    <a href="#graphql-example-querying-countries" aria-label="GraphQL Example: Querying Countries">GraphQL Example: Querying Countries</a></li></ul>
                </li>
                <li>
                    <a href="#rpc-api" aria-label="RPC API">RPC API</a><ul>
                        
                <li>
                    <a href="#rpc-api-example-fictional-store-api" aria-label="RPC API Example: Fictional Store API">RPC API Example: Fictional Store API</a></li>
                <li>
                    <a href="#rpc-api-example-slack-api" aria-label="RPC API Example: Slack API">RPC API Example: Slack API</a></li></ul>
                </li>
                <li>
                    <a href="#native-library-api" aria-label="Native Library API">Native Library API</a><ul>
                        
                <li>
                    <a href="#library-api-example-pythons-json-library" aria-label="Library API Example: Python&amp;rsquo;s JSON Library">Library API Example: Python&rsquo;s JSON Library</a></li>
                <li>
                    <a href="#library-api-example-apache-kafka-producer-api" aria-label="Library API Example: Apache Kafka Producer API">Library API Example: Apache Kafka Producer API</a></li></ul>
                </li>
                <li>
                    <a href="#best-api-tools" aria-label="Best API Tools">Best API Tools</a><ul>
                        
                <li>
                    <a href="#awesome-docs" aria-label="Awesome Docs">Awesome Docs</a></li>
                <li>
                    <a href="#search-hubs-for-apis-others-have-made" aria-label="Search hubs for APIs others have made">Search hubs for APIs others have made</a></li>
                <li>
                    <a href="#tools-to-interact-with-apis" aria-label="Tools to interact with APIs">Tools to interact with APIs</a></li>
                <li>
                    <a href="#popular-frameworks-for-developing-web-apis" aria-label="Popular frameworks for developing web APIs:">Popular frameworks for developing web APIs:</a><ul>
                        
                <li>
                    <a href="#python" aria-label="Python">Python</a></li>
                <li>
                    <a href="#java" aria-label="Java">Java</a></li>
                <li>
                    <a href="#go" aria-label="Go">Go</a></li></ul>
                </li>
                <li>
                    <a href="#graphql-code-generator" aria-label="GraphQL Code Generator">GraphQL Code Generator</a></li>
                <li>
                    <a href="#openapi-specification" aria-label="OpenAPI specification">OpenAPI specification</a></li>
                <li>
                    <a href="#asyncapi-specification" aria-label="AsyncAPI specification">AsyncAPI specification</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><div class="admonition tip">
    <div class="title">Tip</div>
    <div class="content">I originally wrote this for <a href="https://confluent.io/learn/api" target="_blank">https://confluent.io/learn/api</a>, but I wanted to host a version of it on my own blog.</div>
</div>
<h2 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h2>
<p>API stands for <strong>Application Programming Interface</strong>, which allows applications to communicate with one another. In the following image, imagine an app on the left is trying to communicate with the app on the right:</p>
<p><img loading="lazy" src="/images/what-is-an-api/api-image.png" alt=""  />
</p>
<p>The key idea is the app on the left doesn’t need to know the details about how the other application works; it only needs to know about how to use the API. This is the concept of <strong>abstraction</strong>, which makes it possible for new programs to build on top of the hard work encoded into other programs.</p>
<p>There are many kinds of APIs and a mountain of technical definitions. This post will discuss only a few modern APIs in plain language with practical examples and some hands-on components.</p>
<h2 id="metaphor-video-games">Metaphor: Video Games<a hidden class="anchor" aria-hidden="true" href="#metaphor-video-games">#</a></h2>
<p>Video games make a nice metaphor for the power of abstraction that an interface provides.</p>
<p align="center">
<img src="/images/what-is-an-api/api-image-controller.jpg"/> 
</p>
<p>The video game player presses buttons, and somehow the video game console knows how to take those buttons and turn them into actions in the game. The player only needs to know the buttons to press in order to have fun with the game; they do not need to know how the machine takes those inputs and uses them to render actions on the screen.</p>
<h2 id="rest-api">REST API<a hidden class="anchor" aria-hidden="true" href="#rest-api">#</a></h2>
<p>The REST API is the most popular API architecture in modern web applications. REST stands for <strong>Representational State Transfer</strong>. The underlying theory is nuanced, but in practice a REST API basically means there is a client who makes certain kinds of requests to alter resources on a server. Each request represents the state the client wants the resource to have and attempts to transfer that wish to the server. The server responds on its own without having to remember anything about the client (this is known as stateless requests).</p>
<p align="center">
<img src="/images/what-is-an-api/api3.jpg"/> 
</p>
<p>The most common place you will see REST APIs at play is in your browser. You click a button, and the browser will send a request to a server to retrieve a resource and display that resource on your screen.</p>
<p>REST APIs are sometimes described as”RESTful”.</p>
<h3 id="example-curl-a-web-api">Example: cURL a Web API<a hidden class="anchor" aria-hidden="true" href="#example-curl-a-web-api">#</a></h3>
<p>It’s difficult to conceptualize a REST API without a concrete example. Suppose there is a RESTful book API service hosted at <a href="https://api.fakebooksite.com" target="_blank">https://api.fakebooksite.com</a>. Users can create, read, update, and delete books using the API.</p>
<p>The cURL command is an application that can create HTTP requests and is commonly used to interact with REST APIs from the command line. Here is an example of a request one might submit to the books REST API server with the cURL application:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl --request GET <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    <span style="color:#e6db74">&#34;https://api.fakebooksite.com/v1/authors?author=chuck&amp;sort=title:desc&#34;</span>
</span></span></code></pre></div><p>Here, the <code>curl</code> command uses the “GET” HTTP method, so this command should retrieve a resource from the server rather than creating or updating a resource on the server. Let&rsquo;s break down what the different parts of the URL (&ldquo;uniform resource locator&rdquo;) are doing in this API.</p>
<table>
<thead>
<tr>
<th>url part</th>
<th>purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>https://</code></td>
<td>This is the part of the URL that signals what <strong>protocol</strong> will be used. In this case, we use the secure HTTP protocol.</td>
</tr>
<tr>
<td><code>api.fakebooksite.com</code></td>
<td>This part of the URL is called the <strong>domain</strong>. This is what humans use to find servers on the internet (as opposed to IP addresses).</td>
</tr>
<tr>
<td><code>/v1/authors/</code></td>
<td>This part of the URL is the REST API <strong>endpoint</strong>. It points to resources on the server. It is often prefixed by an API version so that the API can evolve over time without upsetting those who prefer to use older versions. This endpoint points to the “authors” resource.</td>
</tr>
<tr>
<td><code>?author=chuck&amp;sort=title:desc</code></td>
<td>This part of the URL is called the <strong>query string</strong> which starts with a “?” and encodes <strong>query parameters</strong>, which are key-value pairs defined with an “=” and separated with “&amp;”. In this case, we specify the name of the author and ask for the response to be sorted by title name in descending (reverse) alphabetical order.</td>
</tr>
</tbody>
</table>
<p>The REST API server application would be written in a way to respond to this kind of request and serve a response. In this case, the books API might retrieve information about books written by “chuck” from a database, perform a sort operation, and send a response to the cURL client in a JSON format.</p>
<div class="admonition tip">
    <div class="title">Tip</div>
    <div class="content"><p>APIs often respond with data encoded in JSON format. The <code>jq</code> command is a handy tool for parsing json responses. It is useful to pipe the results of a curl command into <code>jq</code> to see a pretty output, like this (<code>-X</code> is a shortcut for <code>--request</code>):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X GET https://my-cool-site.com/v1/cool-quotes | jq
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&#34;quotes&#34;</span>: [{
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&#34;author&#34;</span>: <span style="color:#e6db74">&#34;Bill and Ted&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&#34;quote&#34;</span>: <span style="color:#e6db74">&#34;Be excellent to each other&#34;</span>
</span></span><span style="display:flex;"><span>		},
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&#34;author&#34;</span>: <span style="color:#e6db74">&#34;George Box&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&#34;quote&#34;</span>: <span style="color:#e6db74">&#34;All models are wrong. Some are useful.&#34;</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></div>
</div>
<p>JSON stands for <strong>JavaScript Object Notation</strong>. Despite its name, it is simply a standard file format that any language can use to send and receive data over the internet. The next example will send JSON data to a REST API endpoint.</p>
<p>It’s great to receive data from a REST API endpoint, but often we also want to send a “payload” of data to a REST API. Here is an example that creates/updates the book “Chuck’s Cool Book”:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --request PUT <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --header “Content-Type: application/json” <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --user chuck:chuck-password <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --data ‘<span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        “author”: “chuck”,
</span></span><span style="display:flex;"><span>        “title”:”Chuck’s Cool Book”,
</span></span><span style="display:flex;"><span>        “text”: “When I was a boy, I ate <span style="color:#ae81ff">3</span> dozen eggs each morning…” <span style="color:#f92672">}</span>’ <span style="color:#ae81ff">\ </span>   
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;https://api.fakebooksite.com/v1/books&#34;</span> 
</span></span></code></pre></div><p>There are a couple of new things here to notice:</p>
<table>
<thead>
<tr>
<th>part</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--request PUT</code></td>
<td>We are using a different HTTP method. “PUT” usually means we want to provide data the server can use to create a resource or replace a resource if it already exists.</td>
</tr>
<tr>
<td><code>--header “Content-Type: application/json”</code></td>
<td>Headers are key-value pairs that give the server or client additional information about the request. There are many standard headers, like “Content-Type”. In this case, the client is telling the server that it is going to send a JSON data payload.</td>
</tr>
<tr>
<td><code>--user chuck:chuck-password</code></td>
<td>cURL’s &ndash;user option creates an “Authorization” header that includes username and password so the server can authenticate the client and decide if it is authorized to have its request fulfilled. In this case, it’s probably a good idea to require users to sign in before they are allowed to post books, otherwise anyone could stuff the database full of whatever books they want. It’s also important that the protocol for this API is HTTPS rather than just HTTP. HTTPS means the connection between the client and server is encrypted, so no one can eavesdrop on the connection and steal the user’s password.</td>
</tr>
<tr>
<td><code>-data ‘{...}’</code></td>
<td>We use this option to compose our JSON payload to send to the server. In this case, we define author, title, and book text in JSON format to send to the server.</td>
</tr>
</tbody>
</table>
<p>In summary, the above cURL command will send an HTTP PUT request to the server at the /v1/books endpoint with a JSON payload. When the server receives the PUT request, it would authenticate the user, check whether the user is authorized to create that resource, perhaps update a database record for that book, and then return a response to the client (e.g. status code 200 to report success).</p>
<div class="admonition note">
    <div class="title">Note</div>
    <div class="content">The server might behave very differently depending on which HTTP method is used. In this case, a GET request to <a href="https://api.fakebooksite.com/v1/books?author=chuck&amp;title=Chuck%27s&#43;Cool&#43;Book" target="_blank">https://api.fakebooksite.com/v1/books?author=chuck&amp;title=Chuck%27s&#43;Cool&#43;Book</a> might not require authentication at all and give a response that includes the contents of “Chuck’s Cool Book” in JSON format.</div>
</div>
<h2 id="graphql-api">GraphQL API<a hidden class="anchor" aria-hidden="true" href="#graphql-api">#</a></h2>
<p>GraphQL is an API query language that provides an alternative to REST. GraphQL is great because it gives clients a more flexible way to query an API for exactly what they need and provides developers an easier way to evolve their APIs while maintaining backward compatibility.</p>
<p>GraphQL specifies three execution operations:</p>
<ul>
<li>Query (retrieve data from the server)</li>
<li>Mutation (change data on the server)</li>
<li>Subscription (subscribe to a stream of data events from the server)</li>
</ul>
<h3 id="graphql-example-querying-countries">GraphQL Example: Querying Countries<a hidden class="anchor" aria-hidden="true" href="#graphql-example-querying-countries">#</a></h3>
<p>Go to <a href="https://lucasconstantino.github.io/graphiql-online/" target="_blank">https://lucasconstantino.github.io/graphiql-online/</a> to play hands-on with a graphQL API.</p>
<p>Here is an example query that you can input into the GraphQL playground:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-graphql" data-lang="graphql"><span style="display:flex;"><span><span style="color:#66d9ef">query</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">countries</span>(filter: { <span style="color:#a6e22e">code</span>: { <span style="color:#a6e22e">regex</span>: <span style="color:#e6db74">&#34;.*A.*&#34;</span> } }) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">currency</span>
</span></span><span style="display:flex;"><span>    code
</span></span><span style="display:flex;"><span>    name
</span></span><span style="display:flex;"><span>    continent {
</span></span><span style="display:flex;"><span>      name
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  languages(filter: { <span style="color:#a6e22e">code</span>: { <span style="color:#a6e22e">regex</span>: <span style="color:#e6db74">&#34;.*r&#34;</span> } }) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">native</span>
</span></span><span style="display:flex;"><span>    name
</span></span><span style="display:flex;"><span>    code
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This example illustrates how GraphQL gives the client the power to decide what data they want the server to return. With a REST API, making a GET request to a <code>/countries</code> endpoint would return a lot of information the client doesn’t necessarily need, and it would be up to the client to parse through the response. In addition, GraphQL empowers the client to choose data they want from a variety of resources in a single request. In this example, we also see that the client has requested information about languages. With a RESTful architecture, the client would have to make two requests, one to <code>/countries</code> and another to <code>/languages</code>.</p>
<p>Here are a few things to notice about the query:</p>
<ul>
<li>The query is defined with the “query” keyword within curly braces {}</li>
<li>A filter can be applied so that only a subset of data is returned to the client E.g. for <code>(filter:{code:{regex:&quot;.*A.*&quot;}})</code>, we select only the countries whose country code contains an “A” using regular expressions.</li>
</ul>
<p>The GraphQL web editor, called GraphiQL, is sending an HTTP request to a real GraphQL endpoint. Here’s what an equivalent cURL command looks like (note the escape backslashes for double quotes and the lack of newlines in the query value):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -s -X POST -H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --data <span style="color:#e6db74">&#39;{&#34;query&#34;:&#34;{  countries(filter: {code: {regex: \&#34;.*A.*\&#34;}}) {    currency    code    name    continent { name }  }  languages(filter: {code: {regex: \&#34;.*r\&#34;}}) {    native    name    code  }}&#34;}&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    https://countries.trevorblades.com | jq
</span></span></code></pre></div><p>Next, explore the API on your own. It’s especially helpful to use <code>Ctrl+Space</code> to take advantage of auto-complete. Also don’t forget to explore the docs panel on the upper right. These docs are automatically generated from GraphQL’s type system (yay schemas and auto generated documentation!).</p>
<h2 id="rpc-api">RPC API<a hidden class="anchor" aria-hidden="true" href="#rpc-api">#</a></h2>
<p>Another popular alternative to REST API architecture is RPC, which stands for <strong>Remote Procedure Call</strong>. With an RPC API, the client sends a request to a server that asks the server to execute a “procedure” (i.e. “function”, or “method”).</p>
<p>RPC is different from a REST because the endpoint in a REST API is a resource like <code>/v1/books/</code>, whereas the endpoint in an RPC API is an action like <code>/v1/book.update</code>. In other words, REST APIs are centered around <strong>nouns</strong> whereas RPC APIs are centered around <strong>verbs</strong>.</p>
<p>RPC APIs are popular for synchronous communication between microservices. The most popular framework for developing RPC APIs is <a href="https://grpc.io/" target="_blank">gRPC</a>.</p>
<h3 id="rpc-api-example-fictional-store-api">RPC API Example: Fictional Store API<a hidden class="anchor" aria-hidden="true" href="#rpc-api-example-fictional-store-api">#</a></h3>
<p>This example by Arnaud Lauret is useful to illustrate the difference between REST and RPC APIs:</p>
<table>
<thead>
<tr>
<th>Operation</th>
<th>RPC (operation)</th>
<th>REST (resource)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Signup</td>
<td>POST /signup</td>
<td>POST /persons</td>
</tr>
<tr>
<td>Resign</td>
<td>POST /resign</td>
<td>DELETE /persons/1234</td>
</tr>
<tr>
<td>Read person</td>
<td>GET /readPerson?personid=1234</td>
<td>GET /persons/1234</td>
</tr>
<tr>
<td>Read person&rsquo;s items list</td>
<td>GET /readUsersItemsList?userid=1234</td>
<td>GET /persons/1234/items</td>
</tr>
<tr>
<td>Add item to person&rsquo;s list</td>
<td>POST /addItemToUsersItemsList</td>
<td>POST /persons/1234/items</td>
</tr>
<tr>
<td>Update item</td>
<td>POST /modifyItem</td>
<td>PUT /items/456</td>
</tr>
<tr>
<td>Delete item</td>
<td>POST /removeItem?itemId=456</td>
<td>DELETE /items/456</td>
</tr>
</tbody>
</table>
<p>Source: <a href="https://apihandyman.io/do-you-really-know-why-you-prefer-rest-over-rpc/#examples" target="_blank">https://apihandyman.io/do-you-really-know-why-you-prefer-rest-over-rpc/#examples</a></p>
<p>Notice RPC APIs only use POST and GET HTTP methods, choosing to let the endpoint describe what kind of operation is taking place. Compare that to REST, where DELETE, GET, POST, and PUT methods to the same resource endpoint will result in different behaviors.</p>
<h3 id="rpc-api-example-slack-api">RPC API Example: Slack API<a hidden class="anchor" aria-hidden="true" href="#rpc-api-example-slack-api">#</a></h3>
<p>Slack is a popular enterprise collaboration app. Slack offers an RPC API to interact with its resources. Here is an example for setting a user’s profile data:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Set user profile data</span>
</span></span><span style="display:flex;"><span>curl -X POST <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-H “Content-Type: application/json” -H “Authorization: Bearer my-super-secret-token” <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--data ‘<span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;profile&#34;</span>: <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#e6db74">&#34;status_text&#34;</span>: <span style="color:#e6db74">&#34;riding a train&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#e6db74">&#34;status_emoji&#34;</span>: <span style="color:#e6db74">&#34;:mountain_railway:&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#e6db74">&#34;status_expiration&#34;</span>: 1532627506,
</span></span><span style="display:flex;"><span>		<span style="color:#e6db74">&#34;first_name&#34;</span>: <span style="color:#e6db74">&#34;John&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#e6db74">&#34;last_name&#34;</span>: <span style="color:#e6db74">&#34;Smith&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#e6db74">&#34;email&#34;</span>: <span style="color:#e6db74">&#34;john@smith.com&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#e6db74">&#34;fields&#34;</span>: <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#e6db74">&#34;Xf06054BBB&#34;</span>: <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>				<span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;Barista&#34;</span>,
</span></span><span style="display:flex;"><span>				<span style="color:#e6db74">&#34;alt&#34;</span>: <span style="color:#e6db74">&#34;I make the coffee &amp; the tea!&#34;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>’ https://slack.com/api/users.profile.set?user<span style="color:#f92672">=</span>W1234567890 | jq
</span></span></code></pre></div><p>The JSON data payload is taken straight from the example in Slack’s documentation. Notice the endpoint /api/users.profile.set is an action rather than a resource. Here just a few other action-oriented RPC endpoints related to users:</p>
<ul>
<li>users.profile.get</li>
<li>users.deletePhoto</li>
<li>users.setPhoto</li>
<li>users.setActive</li>
</ul>
<p>Slack API documentation pages for their endpoints (called “methods”, which makes sense for RPC):</p>
<ul>
<li><a href="https://api.slack.com/methods" target="_blank">https://api.slack.com/methods</a></li>
</ul>
<h2 id="native-library-api">Native Library API<a hidden class="anchor" aria-hidden="true" href="#native-library-api">#</a></h2>
<p>All the API examples so far have been APIs over the HTTP protocol (REST, GraphQL, RPC), but another common way to use APIs is directly in the code of your own application through <strong>libraries</strong>.</p>
<p align="center">
<img src="/images/what-is-an-api/api-image-4.png"/>
</p>
<p>A <strong>library</strong> is a collection of objects and functions that you can import into your own application to use. A library is typically tailored to solve a specific problem. Instead of solving that problem yourself, you take advantage of the library’s capabilities by using its API. This makes more sense as you dig into examples.</p>
<h3 id="library-api-example-pythons-json-library">Library API Example: Python&rsquo;s JSON Library<a hidden class="anchor" aria-hidden="true" href="#library-api-example-pythons-json-library">#</a></h3>
<p>Here is a simple Python program that uses the API provided by the json library to serialize a Python dictionary into a json file.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> json
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>my_dictionary <span style="color:#f92672">=</span> { <span style="color:#e6db74">&#34;my-key&#34;</span> : [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>] }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;my-file.json&#34;</span>, <span style="color:#e6db74">&#34;w&#34;</span>) <span style="color:#66d9ef">as</span> f:
</span></span><span style="display:flex;"><span>    json<span style="color:#f92672">.</span>dump(my_dictionary, f)
</span></span></code></pre></div><p>Here are a few things to notice:</p>
<p><code>import json</code></p>
<ul>
<li>This is where we import the library. Every language provides ways to import libraries.</li>
</ul>
<p><code>json.dump(my_dictionary, f)</code></p>
<ul>
<li>We can research the library’s official <a href="https://docs.python.org/3/library/json.html" target="_blank">API documentation</a> to find the functions and objects we need for our program.</li>
<li>In this case, we find that the dump method does what we want — it takes a Python object and serializes it into JSON file format.</li>
<li>The API specifies that dump has two required positional arguments — first, the object to be serialized, and second, a file writer object to write the JSON data to a file.</li>
<li>The important point is that we can use the dump function in our program without knowing at all how it is implemented.</li>
</ul>
<h3 id="library-api-example-apache-kafka-producer-api">Library API Example: Apache Kafka Producer API<a hidden class="anchor" aria-hidden="true" href="#library-api-example-apache-kafka-producer-api">#</a></h3>
<p>Apache Kafka provides APIs to read from, process, and write data to Kafka servers (called brokers). There are <a href="https://developer.confluent.io/kafka-languages-and-tools/" target="_blank">Kafka client libraries</a> available in many programming languages. We’ll use Java to contrast with the previous Python example.</p>
<pre tabindex="0"><code>…
import org.apache.kafka.clients.producer.*;
…

public class ProducerExample {

public static void main(final String[] args) throws IOException {
…
final Properties props = new Properties();
InputStream propsFile = new 
FileInputStream(&#34;src/main/resources/producer.properties&#34;);
props.load(propsFile);

KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);
String t = &#34;my_topic&#34;
String k = &#34;mykey&#34;;
String v = &#34;myvalue&#34;;
ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;String, String&gt;(t, k, v);
producer.send(record);
}
</code></pre><p>The pattern is the same as the previous example:</p>
<ul>
<li>import the library</li>
<li>research the API documentation to learn what objects and functions are available and how to use them</li>
<li>Profit</li>
</ul>
<p>In this case, we</p>
<ul>
<li>create a <code>KafkaProducer</code> object called “producer” configured with a properties file</li>
<li>Define a topic, key, and value</li>
<li>Create a <code>ProducerRecord</code> object called “record” that holds the record key, record value, and the topic where we want to send the record</li>
</ul>
<h2 id="best-api-tools">Best API Tools<a hidden class="anchor" aria-hidden="true" href="#best-api-tools">#</a></h2>
<p>Here are some of the most popular tools for developing and using APIs:</p>
<h3 id="awesome-docs">Awesome Docs<a hidden class="anchor" aria-hidden="true" href="#awesome-docs">#</a></h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP" target="_blank">https://developer.mozilla.org/en-US/docs/Web/HTTP</a> &ndash; Excellent reference for all things HTTP, like headers, methods, status codes, etc.</li>
<li><a href="https://graphql.org/learn/" target="_blank">https://graphql.org/learn/</a></li>
<li><a href="https://grpc.io/docs/" target="_blank">https://grpc.io/docs/</a></li>
</ul>
<h3 id="search-hubs-for-apis-others-have-made">Search hubs for APIs others have made<a hidden class="anchor" aria-hidden="true" href="#search-hubs-for-apis-others-have-made">#</a></h3>
<ul>
<li><a href="https://app.swaggerhub.com/search" target="_blank">https://app.swaggerhub.com/search</a> by SmartBear</li>
<li><a href="https://www.postman.com/explore" target="_blank">https://www.postman.com/explore</a> by Postman</li>
</ul>
<h3 id="tools-to-interact-with-apis">Tools to interact with APIs<a hidden class="anchor" aria-hidden="true" href="#tools-to-interact-with-apis">#</a></h3>
<ul>
<li><a href="https://swagger.io" target="_blank">https://swagger.io</a> &ndash; Interactive online API editor demo that models a pet store REST API with Open API: <a href="https://editor.swagger.io/" target="_blank">https://editor.swagger.io/</a></li>
<li><a href="https://postman.com" target="_blank">https://postman.com</a></li>
<li><a href="https://insomnia.rest/" target="_blank">https://insomnia.rest/</a> – API development tool by Kong, Inc.</li>
<li><a href="https://httpie.io/" target="_blank">https://httpie.io/</a> &ndash; httpie is a really great, modern alternative to cURL
<ul>
<li><a href="https://httpie.io/docs/cli/examples" target="_blank">https://httpie.io/docs/cli/examples</a> – examples that you can run interactively on <a href="https://httpie.io/cli/run" target="_blank">https://httpie.io/cli/run</a></li>
</ul>
</li>
</ul>
<h3 id="popular-frameworks-for-developing-web-apis">Popular frameworks for developing web APIs:<a hidden class="anchor" aria-hidden="true" href="#popular-frameworks-for-developing-web-apis">#</a></h3>
<h4 id="python">Python<a hidden class="anchor" aria-hidden="true" href="#python">#</a></h4>
<ul>
<li>FastAPI <a href="https://fastapi.tiangolo.com/" target="_blank">https://fastapi.tiangolo.com/</a></li>
<li>Flask <a href="https://flask.palletsprojects.com/en/2.1.x/" target="_blank">https://flask.palletsprojects.com/en/2.1.x/</a></li>
<li>Django <a href="https://www.djangoproject.com/" target="_blank">https://www.djangoproject.com/</a></li>
</ul>
<h4 id="java">Java<a hidden class="anchor" aria-hidden="true" href="#java">#</a></h4>
<ul>
<li>SpringBoot <a href="https://spring.io/projects/spring-boot" target="_blank">https://spring.io/projects/spring-boot</a>
<ul>
<li>Really helpful tool to initialize new projects: <a href="https://start.spring.io/" target="_blank">https://start.spring.io/</a></li>
</ul>
</li>
<li>Quarkus <a href="https://quarkus.io/" target="_blank">https://quarkus.io/</a></li>
</ul>
<h4 id="go">Go<a hidden class="anchor" aria-hidden="true" href="#go">#</a></h4>
<ul>
<li>Gin <a href="https://gin-gonic.com/" target="_blank">https://gin-gonic.com/</a></li>
<li>Gorilla <a href="http://www.gorillatoolkit.org/" target="_blank">http://www.gorillatoolkit.org/</a></li>
</ul>
<h3 id="graphql-code-generator">GraphQL Code Generator<a hidden class="anchor" aria-hidden="true" href="#graphql-code-generator">#</a></h3>
<ul>
<li><a href="https://www.graphql-code-generator.com/" target="_blank">https://www.graphql-code-generator.com/</a> &ndash; Define your schema and generate frontend client code and backend server code</li>
</ul>
<h3 id="openapi-specification">OpenAPI specification<a hidden class="anchor" aria-hidden="true" href="#openapi-specification">#</a></h3>
<ul>
<li><a href="https://spec.openapis.org/oas/v3.1.0" target="_blank">https://spec.openapis.org/oas/v3.1.0</a> &ndash; Provides a language-agnostic specification that allows you to declare an API in a JSON or YAML document file (usually called openapi.yml, swagger.yaml, or similar). Use Swagger Codegen or OpenAPI Generator to take the OpenAPI document file and generate REST API server and client code, as well as documentation, in the language or framework of your choice.</li>
</ul>
<h3 id="asyncapi-specification">AsyncAPI specification<a hidden class="anchor" aria-hidden="true" href="#asyncapi-specification">#</a></h3>
<ul>
<li><a href="https://www.asyncapi.com/" target="_blank">https://www.asyncapi.com/</a> &ndash; In the same family as OpenAPI, but focused on asynchronous, event-driven APIs rather than synchronous request/response APIs. Like OpenAPI, you create an API in a YAML document file and use tools to generate code and documentation</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>

<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share What is an API? on twitter"
        href="https://twitter.com/intent/tweet/?text=What%20is%20an%20API%3f&amp;url=https%3a%2f%2fchuck-alt-delete.github.io%2fposts%2fwhat-is-an-api%2f&amp;hashtags=">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share What is an API? on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fchuck-alt-delete.github.io%2fposts%2fwhat-is-an-api%2f&amp;title=What%20is%20an%20API%3f&amp;summary=What%20is%20an%20API%3f&amp;source=https%3a%2f%2fchuck-alt-delete.github.io%2fposts%2fwhat-is-an-api%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share What is an API? on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2fchuck-alt-delete.github.io%2fposts%2fwhat-is-an-api%2f&title=What%20is%20an%20API%3f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share What is an API? on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fchuck-alt-delete.github.io%2fposts%2fwhat-is-an-api%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share What is an API? on whatsapp"
        href="https://api.whatsapp.com/send?text=What%20is%20an%20API%3f%20-%20https%3a%2f%2fchuck-alt-delete.github.io%2fposts%2fwhat-is-an-api%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share What is an API? on telegram"
        href="https://telegram.me/share/url?text=What%20is%20an%20API%3f&amp;url=https%3a%2f%2fchuck-alt-delete.github.io%2fposts%2fwhat-is-an-api%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://chuck-alt-delete.github.io/">Chuck Alt Delete</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
